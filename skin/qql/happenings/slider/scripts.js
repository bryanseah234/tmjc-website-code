$(function(){slider.init()});var slider={num:-1,current:0,autoLoop:null,sliderWidth:685,thumbWidth:94,animSpeed:500,pauseTime:5e3,autoRepeat:!0,navType:"thumb",navEach:3,navCurrent:1,effect:"slide",pauseOnOver:!1,init:function(){if(!$("#slide-runner").children())return!1;slider.num=$("#slide-runner").children().length,slider.num<=slider.navEach&&$("#slide-nav-next").addClass("off");var e=slider.thumbWidth*slider.navEach-5;Math.ceil(slider.num/slider.navEach);"thumb"==slider.navType&&$("#slide-nav").width(e);for(var i=0;i<slider.num;i++){if("slide"==slider.effect&&$("#slide-runner img#slide-img-"+(i+1)).css({left:i*slider.sliderWidth}),"thumb"==slider.navType)s='<img id="slide-thumb-'+i+'" class="thumb" src="'+$("#slide-runner img#slide-img-"+(i+1)).attr("src")+'">';else var s=(i+1);$("#slide-nav").append('<a id="slide-link-'+(i+1)+'" href="#" onmouseover="slider.slide('+(i+1)+');return false;" >'+s+"</a>"),"thumb"==slider.navType&&$("#slide-thumb-"+i).css({left:i*slider.thumbWidth})}slider.pauseOnOver&&$("#slide-runner").hover(function(){$(this).addClass("paused")},function(){$(this).removeClass("paused")}),$("#slide-nav-prev").click(function(){slider.navPrev()}),$("#slide-nav-next").click(function(){slider.navNext()}),$("img,div#slide-controls",$("div#slide-holder")).fadeIn(),"slide"!=slider.effect&&($("#slide-runner IMG").hide(),$("#slide-runner IMG:first").show(),$("#slide-runner IMG:first").addClass("active")),slider.on(1),slider.current=1,window.setTimeout("slider.auto();",slider.pauseTime)},auto:function(){if(!slider.autoRepeat)return!1;var e=slider.current+1;e>slider.num&&(e=1),slider.slide(e)},slide:function(e){if(!(e<1||e>slider.num||e==slider.current)){if(!$("#slide-runner").hasClass("paused")){if("slide"==slider.effect){for(var i=slider.thumbWidth*slider.navEach-5,s=Math.ceil(slider.num/slider.navEach),n=0;n<slider.num;n++)$("#slide-runner img#slide-img-"+(n+1)).stop().animate({left:(n-e+1)*slider.sliderWidth},slider.animSpeed);if(1==e)slider.navReset(i);else if(e%slider.navEach==1||1==slider.navEach){for(n=0;n<slider.num;n++)$("#slide-nav img#slide-thumb-"+(n+1)).stop().animate({left:-slider.navCurrent*(i+5)+n*slider.thumbWidth},slider.animSpeed);slider.navCurrent+=1,slider.navCurrent==s&&$("#slide-nav-next").addClass("off")}}else{var d=$("#slide-runner IMG.active");0==d.length&&(d=$("#slideshow IMG:last"));var l=$("#slide-img-"+e);d.addClass("last-active"),l.css({opacity:0,display:"block"}).addClass("active").animate({opacity:1},slider.animSpeed,function(){d.removeClass("active last-active")})}slider.on(e),slider.contentSwitch(e),slider.current=e}window.clearTimeout(slider.autoLoop),slider.autoLoop=window.setTimeout("slider.auto();",slider.pauseTime)}},on:function(e){$("#slide-nav a").removeClass("on"),$("#slide-nav a#slide-link-"+e).addClass("on"),"thumb"==slider.navType&&($("#slide-nav img.thumb").removeClass("on"),$("#slide-nav img#slide-thumb-"+e).addClass("on"))},text:function(e){var i=$("#slide-content-holder #slide-content-"+e+" .slide-content-title").text();"-1"!=i.search(":")?(breakpoint=i.search(":"),firstLine=i.slice(0,breakpoint+1),secondLine=i.slice(breakpoint+1),$("#slide-client").html("<div class='first'></div><div class='second'></div>"),slider.ticker("#slide-client div.first",firstLine,0),window.setTimeout('slider.ticker("#slide-client div.second","'+secondLine+'",0);',30*(breakpoint+5))):($("#slide-client").html("<span></span>"),slider.ticker("#slide-client span",i,0))},ticker:function(e,i,s,n){ctext=i.substring(0,s)+(s%2?"-":"_"),$(e).html(ctext),s==i.length?$(e).html(i):window.setTimeout('slider.ticker("'+e+'","'+i+'",'+s+");",30)},contentSwitch:function(e){var i=$("#slide-content-holder .slide-content"),s=$("#slide-content-holder #slide-content-"+e);i.removeClass("active").css({display:"none"}),s.fadeIn(slider.animSpeed).addClass("active")},navReset:function(e){if(1==slider.navCurrent)return!1;for(var i=0;i<slider.num;i++)$("#slide-nav img#slide-thumb-"+(i+1)).stop().animate({left:i*slider.thumbWidth},slider.animSpeed);slider.num>slider.navEach&&$("#slide-nav-next").removeClass("off"),slider.navCurrent=1,$("#slide-nav-prev").addClass("off")},navPrev:function(){var e=slider.current-1;e<1&&(e=slider.num),slider.slide(e)},navNext:function(){var e=slider.current+1;e>slider.num&&(e=1),slider.slide(e)}};
